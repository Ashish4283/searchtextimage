<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Highlighting</title>
</head>
<body>
    <h1>Word Highlighting</h1>
    <input type="text" id="imageUrl" placeholder="Enter image URL">
    <br><br>
    <button onclick="loadImage()">Load Image</button>
    <br><br>
    <div id="imageContainer">
        <h2>Image</h2>
        <img id="inputImage" alt="Uploaded Image" style="max-width: 100%; height: auto;">
    </div>

    <!-- Include OpenCV.js -->
    <script async src="https://docs.opencv.org/master/opencv.js" onload="onOpenCvLoaded();" type="text/javascript"></script>
    <script>
        let inputImage = null;
        let imageUrl = null;

        function onOpenCvLoaded() {
            document.getElementById('imageUrl').disabled = false;
        }

        function loadImage() {
            imageUrl = document.getElementById('imageUrl').value;
            if (imageUrl) {
                loadImageFromUrl();
            } else {
                alert('Please enter an image URL.');
            }
        }

        function loadImageFromUrl() {
            const inputImageElement = document.getElementById('inputImage');
            // Use a server-side proxy to fetch the image
            inputImageElement.src = 'proxy.php?url=' + encodeURIComponent(imageUrl);
            inputImageElement.onload = function () {
                inputImage = cv.imread(inputImageElement); // Load the image using OpenCV.js
                document.getElementById('imageContainer').style.display = 'block';
            };
        }

        // Rest of the code for highlighting words...
    </script>
</body>
</html>
